# 도서관 관리 시스템 (Library Management System)

## 1. 📂 프로젝트 구조 (Repository Structure)
```text
├── docs/                # 설계 문서 및 시각 자료
│   ├── library_1차.drawio   # ERD 설계 원본
│   └── erd_image.png        # ERD 이미지 파일
└── README.md            # 프로젝트 명세서 (본 파일)
```

### 2. 기획 의도 (Why)
- 도서관의 핵심 서비스인 도서 대여 및 반납 과정을 디지털화하여 관리 효율성을 높이기 위함.
- 특히 동일한 도서가 여러 권 존재할 때 발생하는 데이터 중복 문제를 해결하고, 대여 이력을 정확하게 추적하는 시스템을 구축하고자 함.

### 3. 설계 및 구조 (Architecture)
- **테이블 구성**: `책-정보`, `책-실물-장서`, `책_사람_대출`, `사람`
- **핵심 설계**: 
  - 책 자체의 정보(제목, 작가 등)와 도서관이 보유한 실물 장서를 분리하여 설계함.
  - 이유: '해리포터'라는 책이 10권 있을 때, 책 정보를 10번 저장하지 않고 한 번만 저장한 뒤 실물 번호만 따로 관리하여 DB 용량을 아끼고 데이터 무결성을 지키기 위함.
- **ERD 설계도**:
![도서관 시스템 ERD](image.png)

### 4. 핵심 로직 및 기술 선택 이유 (Core Logic & Selection)
- **대여 상태 추적**: `return_date` 컬럼의 기본값을 `null`로 설정.
- **이유**: 별도의 상태 플래그 없이도 `null`이면 대여 중, 날짜가 있으면 반납 완료로 판단할 수 있어 로직이 간결해짐. 다만, 조회 성능 향상을 위해 실물 테이블에 대여 상태를 중복 기록하는 역정규화 가능성을 열어둠.

### 5. 트러블슈팅 (Troubleshooting)
- **에러/고민**: 초기 설계 시 대여 기록과 현재 대여 상태 데이터가 충돌할 가능성 발견.
- **원인 분석**: 대출 테이블의 반납 날짜 유무와 실물 테이블의 대여 가능 여부가 일치하지 않을 경우 데이터 불일치 발생 위험.
- **해결 과정**: 기본적으로 대출 테이블의 `return_date`를 신뢰하되, 관리 효율을 위해 실물 테이블의 상태를 동기화하는 트리거 등의 장치가 필요함을 인지하고 설계를 보완함.

### 6. 업데이트 기록 (Changelog)
- v1.0 : 초기 ERD 설계 및 도서/장서 분리 구조 확립

### 7. 실무 관점의 참견 (Insight)
- 실제 서비스에서는 도서 분실이나 파손 상태를 기록하는 컬럼이 필수적입니다. 또한, 대규모 사용자가 이용할 경우 `due_date`(반납 예정일)에 인덱스를 걸어 연체 대상자를 빠르게 조회하는 최적화가 필요할 것입니다.

### 8. 성장 포인트 (Retrospective)
- 데이터를 무조건 한 곳에 담는 것이 아니라, 서비스의 흐름을 상상하며 테이블을 쪼개는 '정규화'의 실무적인 필요성을 체감함. `BookID`와 `BookItemID`를 구분하는 이름 짓기 연습이 됨.