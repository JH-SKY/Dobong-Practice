# 실시간 네이버 뉴스 검색 AI 에이전트 (AI News Agent)

### 1. 기획 의도 (Why)
- LLM(대규모 언어 모델)의 한계인 '최신 정보 부재'를 극복하기 위해 외부 API를 연동하는 기술을 실습함.
- 사용자의 질문에 따라 필요한 도구(네이버 뉴스 검색)를 스스로 선택하고 실행하는 '에이전트' 구조를 이해함.

### 2. 설계 및 구조 (Architecture)

- **Language Model**: `gpt-4o-mini`를 메인 엔진으로 사용.
- **Function Calling**: 모델이 직접 `get_naver_news` 함수 호출 여부를 결정하도록 `tools` 정의.
- **Data Integration**: 네이버 뉴스 API에서 받아온 실시간 JSON 데이터를 모델이 해석 가능한 텍스트로 가공하여 전달.

### 3. 핵심 로직 및 기술 선택 이유 (Core Logic & Selection)
- **OpenAI Function Calling**: 자연어를 코드로 변환하는 번거로움 없이, 모델이 검색 키워드를 스스로 추출하도록 설계함.
- **Naver Search API**: 한국어 뉴스 데이터가 가장 풍부한 네이버 API를 활용하여 실무적인 정보 검색 환경 구축.
- **JSON Parsing**: API 응답 데이터를 `json.loads`를 통해 구조화하여 모델에게 필요한 정보만 전달함.

### 4. 트러블슈팅 (Troubleshooting)
- **문제**: 모델이 뉴스 검색 결과를 가끔 무시하거나 일반적인 지식으로만 답변하는 현상.
- **원인**: 함수 호출 결과(output)를 대화 기록(input_list)에 넣을 때 `call_id`가 정확히 매칭되지 않으면 모델이 자신의 요청에 대한 응답임을 인식하지 못함.
- **해결**: `item.call_id`를 명시적으로 매칭하여 모델이 검색 결과를 바탕으로 답변하도록 로직을 강화함.

### 5. 업데이트 기록 (Changelog)
- v1.0 : OpenAI Function Calling을 활용한 기본 뉴스 검색 에이전트 구현.
- v1.1 : `.env` 기반 보안 설정 강화 및 예외 처리 로직 추가.

### 6. 실무 관점의 참견 (Insight)
- 실제 서비스에서는 뉴스 본문의 양이 많을 경우 토큰 비용이 급증할 수 있음. 
- 이를 해결하기 위해 뉴스의 '요약(Description)'만 추출하거나, 특정 키워드에 대한 '중요도'를 기준으로 상위 3개 뉴스만 전달하는 최적화 전략이 필요함.

### 7. 성장 포인트 (Retrospective)
- 인공지능이 단순히 말을 잘하는 수준을 넘어, 인간이 만든 '도구(API)'를 사용해 능동적으로 문제를 해결할 수 있다는 점을 실무 코드로 체득함.